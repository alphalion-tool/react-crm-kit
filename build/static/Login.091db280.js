(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a,o,i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=f(s),p=f(n(0)),u=n(36),d=n(37),h=n(5),m=n(38);function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,a){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n(331);var y={onSignIn:p.default.func};t.default=(0,d.intlInject)(r=(0,d.loggerInject)((i=o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=localStorage.getItem("name")||"",a=localStorage.getItem("userKey")||"",o=!!localStorage.getItem("hasRemember");return n.state={name:r,password:a,hasRemember:o},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),l(t,[{key:"handleNameInputChange",value:function(e){this.setState({name:e.target.value,password:""})}},{key:"handlePwdInputChange",value:function(e){this.setState({password:e.target.value})}},{key:"handCheckChange",value:function(e){e&&this.setState({hasRemember:e.target.checked})}},{key:"handleSignIn",value:function(){var e=this.state,t=e.name,n=e.password;e.hasRemember?(localStorage.setItem("name",t),localStorage.setItem("userKey",n),localStorage.setItem("hasRemember",!0)):(localStorage.removeItem("name"),localStorage.removeItem("userKey"),localStorage.removeItem("hasRemember")),this.props.onSignIn(t,n)}},{key:"handleRegister",value:function(){(0,m.gotoRegisterPage)()}},{key:"handleKeyPress",value:function(e){var t=this.state,n=t.name,r=t.password;if("Enter"===e.key){if(!n)return void h.Message.error("Username is required!");if(!r)return void h.Message.error("Password is required!");this.handleSignIn()}}},{key:"render",value:function(){var e=this.state,t=e.hasRemember,n=e.name,r=e.password;return c.default.createElement("div",{className:"c-form c-form--stacked s-auth__form"},c.default.createElement("div",{className:"s-content-container"},c.default.createElement("legend",null,c.default.createElement("div",{className:"s-content--logo"},c.default.createElement("div",{className:"s-content--logo-container"}))),c.default.createElement(h.Input,{id:"name",prefix:c.default.createElement("span",{className:"s-content--login__icon"},c.default.createElement(h.Icon,{type:"user"})),onKeyPress:this.handleKeyPress,onChange:this.handleNameInputChange,placeholder:"Username",value:n}),c.default.createElement(h.Input,{prefix:c.default.createElement("span",{className:"s-content--login__icon"},c.default.createElement(h.Icon,{type:"lock"})),type:"password",name:"password",id:"password",onChange:this.handlePwdInputChange,placeholder:"Password",onKeyPress:this.handleKeyPress,value:r}),c.default.createElement(h.Checkbox,{id:"remember",onChange:this.handCheckChange,checked:t},this.intl("common.string.rememberme")),c.default.createElement("div",{className:"s-auth__btns"},c.default.createElement(h.Button,{type:"primary",disabled:!(n&&r),onClick:this.handleSignIn},this.intl("common.string.login")))))}}]),t}(),o.propTypes=y,g((a=i).prototype,"handleNameInputChange",[u.bind],Object.getOwnPropertyDescriptor(a.prototype,"handleNameInputChange"),a.prototype),g(a.prototype,"handlePwdInputChange",[u.bind],Object.getOwnPropertyDescriptor(a.prototype,"handlePwdInputChange"),a.prototype),g(a.prototype,"handCheckChange",[u.bind],Object.getOwnPropertyDescriptor(a.prototype,"handCheckChange"),a.prototype),g(a.prototype,"handleSignIn",[u.bind],Object.getOwnPropertyDescriptor(a.prototype,"handleSignIn"),a.prototype),g(a.prototype,"handleRegister",[u.bind],Object.getOwnPropertyDescriptor(a.prototype,"handleRegister"),a.prototype),g(a.prototype,"handleKeyPress",[u.bind],Object.getOwnPropertyDescriptor(a.prototype,"handleKeyPress"),a.prototype),r=a))||r)||r}}]);
//# sourceMappingURL=Login.091db280.js.map