{"version":3,"sources":["webpack:///./js/routes/Auth/containers/Auth.js","webpack:///./js/routes/Auth/routes/Register/index.js","webpack:///./js/routes/Auth/routes/Login/index.js"],"names":["_react","__webpack_require__","_reactRedux","_decko","_decorators","_reactRouterDom","_Login","propTypes","isLoggedIn","PropTypes","bool","isRequired","status","string","history","object","dispatch","func","authName","children","node","Auth","Component","this","props","gotoInner","nextProps","LocalStore","setItem","push","getRedirectUrl","name","pswd","AuthActions","login","_react2","default","createElement","className","Route","loginRoute","onSignIn","handleSignIn","Register","_classnames2","u-show","bind","connect","store","auth","app","authMsg","containerInject","path","component","_loadable2","loader","e","then","module","__esModule","Object","assign","render","loaded","LoadedComponent","other","arguments","length","undefined","Promise","all","_extends","exportRoute"],"mappings":"2YAGAA,EAAAC,EAAA,cACAA,EAAA,IACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,SACAA,EAAA,SACAA,EAAA,MACAG,EAAAH,EAAA,SACAA,EAAA,MACAI,EAAAJ,EAAA,KACAK,EAAAL,EAAA,UACAA,EAAA,0DAEAA,EAAA,MAEA,IAAMM,GACFC,WAAYC,UAAUC,KAAKC,WAC3BC,OAAQH,UAAUI,OAClBC,QAASL,UAAUM,OACnBC,SAAUP,UAAUQ,KACpBC,SAAUT,UAAUI,OACpBM,SAAUV,UAAUW,sBAWlBC,qrBAAaC,6DAKPC,KAAKC,MAAMhB,YACXe,KAAKE,UAAUF,KAAKC,yDAIFE,GAClBA,EAAUlB,WACVe,KAAKE,UAAUC,GAGfC,UAAWC,QAAQ,WAAY,sCAI5BJ,GACPG,UAAWC,QAAQ,WAAYJ,EAAMN,UACrCK,KAAKC,MAAMV,QAAQe,KAAKF,UAAWG,gBAAe,yCAIxCC,EAAMC,GAChBT,KAAKC,MAAMR,SAASiB,UAAYC,MAAMH,EAAMC,qCAI5C,OACIG,EAAAC,QAAAC,cAAA,OAAKC,UAAU,qEACXH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,0BACXH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,sBACXH,EAAAC,QAAAC,cAAChC,EAAAkC,OAAU,EAAAjC,EAAAkC,aAAaC,SAAUlB,KAAKmB,gBACvCP,EAAAC,QAAAC,cAAChC,EAAAkC,MAAUI,YAEfR,EAAAC,QAAAC,cAAA,OAAKC,WAAW,EAAAM,EAAAR,SAAW,YAAa,mBAAqBS,SAAgC,YAAtBtB,KAAKC,MAAMZ,0BArCnGL,UAAYA,wCAsBlBuC,qeAwBU,EAAA5C,EAAA6C,SAxDf,SAAyBC,GAAO,IACpBC,EAAcD,EAAdC,KACAzC,GADcwC,EAARE,IACoCD,EAA1CzC,YAAY2C,EAA8BF,EAA9BE,QAASjC,EAAqB+B,EAArB/B,SAC7B,OACIV,aAAY2C,UAASvC,OAFyBqC,EAAXrC,OAENM,aAoDtB,EAAwB,EAAAd,EAAAgD,iBAAgB/B,wFClFvD,QAAApB,EAAA,QACAA,EAAA,mEAGI8B,KAAM,WACNsB,KAAM,iBACNC,WAAW,EAAAC,EAAAnB,UACPoB,OAAQ,kBAAMvD,EAAAwD,EAAA,IAAAC,KAAA,eAAAC,EAAA1D,EAAA,6BAAA0D,QAAAC,WAAAD,EAAAE,OAAAC,UAAA,iBAAAH,MAAAvB,QAAAuB,OACdI,OAFgB,SAERC,EAAQxC,EAAOwB,GACnB,IAAMiB,EAAkBD,EAAO5B,QAC/B,OAAOD,EAAAC,QAAAC,cAAC4B,EAAoBzC,qQCPxBgB,aAHhB,QAAAvC,EAAA,QACAA,EAAA,wDAEO,SAASuC,IAAuB,IAAZ0B,EAAYC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,MACnC,OACIpC,KAAM,QACNsB,KAAM,cACNC,WAAW,EAAAC,EAAAnB,UACPoB,OAAQ,kBAAMc,QAAAC,KAAAtE,EAAAwD,EAAA,GAAAxD,EAAAwD,EAAA,KAAAC,KAAA,eAAAC,EAAA1D,EAAA,6BAAA0D,QAAAC,WAAAD,EAAAE,OAAAC,UAAA,iBAAAH,MAAAvB,QAAAuB,OACdI,OAFgB,SAERC,EAAQxC,EAAOwB,GACnB,IAAMiB,EAAkBD,EAAO5B,QAC/B,OAAOD,EAAAC,QAAAC,cAAC4B,EAADO,KAAqBN,EAAW1C,QAMvD,IAAMiD,EAAcjC,cAELiC","file":"Auth.e406bd20.js","sourcesContent":["'use strict';\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bind } from 'decko';\nimport classNames from 'classnames';\nimport AuthActions from 'jscom/actions/auth';\nimport { containerInject } from 'jscom/utils/decorators';\nimport LocalStore from 'jscom/utils/storage';\nimport { Route } from 'react-router-dom';\nimport { loginRoute } from 'jscom/routes/Auth/routes/Login';\nimport Register from 'jscom/routes/Auth/routes/Register';\n\nimport './Auth.scss';\n\nconst propTypes = {\n    isLoggedIn: PropTypes.bool.isRequired,\n    status: PropTypes.string,\n    history: PropTypes.object,\n    dispatch: PropTypes.func,\n    authName: PropTypes.string,\n    children: PropTypes.node,\n};\n\nfunction mapState2Props (store) {\n    const { auth, app } = store;\n    const { isLoggedIn, authMsg, authName, status } = auth;\n    return {\n        isLoggedIn, authMsg, status, authName\n    };\n}\n\nclass Auth extends Component { // eslint-disable-line\n\n    static propTypes = propTypes;\n\n    componentWillMount () {\n        if (this.props.isLoggedIn) {\n            this.gotoInner(this.props);\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.isLoggedIn) {\n            this.gotoInner(nextProps);\n            return;\n        } else {\n            LocalStore.setItem('authName', '');\n        }\n    }\n\n    gotoInner (props) {\n        LocalStore.setItem('authName', props.authName);\n        this.props.history.push(LocalStore.getRedirectUrl(true));\n    }\n\n    @bind\n    handleSignIn (name, pswd) {\n        this.props.dispatch(AuthActions.login(name, pswd));\n    }\n\n    render() {\n        return (\n            <div className=\"s-content-root u-fixed--center p-auth s-content__background-image\">\n                <div className=\"s-content-login\">\n                    <div className=\"u-fixed--center__child\">\n                        <div className=\"s-auth\">\n                            <div className=\"s-auth__login-area\">\n                                <Route {...loginRoute({ onSignIn: this.handleSignIn })} />\n                                <Route {...Register} />\n                            </div>\n                            <div className={classNames('u-loading', 's-auth--loading', { 'u-show': this.props.status === 'loading' })} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(mapState2Props)(containerInject(Auth));\n","import React from 'react';\nimport loadable from 'jscom/utils/loadable';\n\nexport default {\n    name: 'Register',\n    path: '/auth/register',\n    component: loadable({\n        loader: () => import(/* webpackChunkName: \"Register\" */'./containers/Register'),\n        render (loaded, props, store) {\n            const LoadedComponent = loaded.default;\n            return <LoadedComponent {...props} />;\n        }\n    })\n};\n","import React from 'react';\nimport loadable from 'jscom/utils/loadable';\n\nexport function loginRoute(other = {}) {\n    return {\n        name: 'Login',\n        path: '/auth/login',\n        component: loadable({\n            loader: () => import(/* webpackChunkName: \"Login\" */'./containers/Login'),\n            render (loaded, props, store) {\n                const LoadedComponent = loaded.default;\n                return <LoadedComponent {...other} {...props} />;\n            }\n        }),\n    };\n}\n\nconst exportRoute = loginRoute();\n\nexport default exportRoute;"],"sourceRoot":""}