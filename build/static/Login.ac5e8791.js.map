{"version":3,"sources":["webpack:///./routes/Auth/routes/Login/containers/Login.js"],"names":["_react","__webpack_require__","_decko","_decorators","_antd","_window","propTypes","onSignIn","PropTypes","func","intlInject","loggerInject","Login","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","name","localStorage","getItem","password","hasRemember","state","Component","e","setState","target","value","checked","_state","setItem","removeItem","gotoRegisterPage","_state2","key","message","error","handleSignIn","_state3","_react2","default","createElement","className","Input","id","prefix","Icon","type","onKeyPress","handleKeyPress","onChange","handleNameInputChange","placeholder","handlePwdInputChange","Checkbox","handCheckChange","intl","Button","disabled","onClick","bind"],"mappings":"6YAIAA,EAAAC,EAAA,cACAA,EAAA,IACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,KACAG,EAAAH,EAAA,IACAI,EAAAJ,EAAA,8dACAA,EAAA,MAEA,IAAMK,GACFC,SAAUC,UAAUC,mBAGRC,mBACfC,iCAKG,SAAAC,EAAaC,gGAAOC,CAAAC,KAAAH,GAAA,IAAAI,mKAAAC,CAAAF,MAAAH,EAAAM,WAAAC,OAAAC,eAAAR,IAAAS,KAAAN,KACVF,IACAS,EAAOC,aAAaC,QAAQ,SAAW,GACvCC,EAAWF,aAAaC,QAAQ,YAAc,GAC9CE,IAAgBH,aAAaC,QAAQ,eAJ3B,OAKhBR,EAAKW,OACDL,OACAG,WACAC,eARYV,qUAJJY,8DAiBOC,GACnBd,KAAKe,UACDR,KAAMO,EAAEE,OAAOC,MACfP,SAAU,kDAKII,GAClBd,KAAKe,UACDL,SAAUI,EAAEE,OAAOC,gDAKVA,GACTA,GACAjB,KAAKe,UACDJ,YAAaM,EAAMD,OAAOE,iDAMtB,IAAAC,EAC4BnB,KAAKY,MAArCL,EADIY,EACJZ,KAAMG,EADFS,EACET,SADFS,EACYR,aAEpBH,aAAaY,QAAQ,OAAQb,GAC7BC,aAAaY,QAAQ,UAAWV,GAChCF,aAAaY,QAAQ,eAAe,KAEpCZ,aAAaa,WAAW,QACxBb,aAAaa,WAAW,WACxBb,aAAaa,WAAW,gBAG5BrB,KAAKF,MAAMN,SAASe,EAAMG,6CAM1B,EAAApB,EAAAgC,2DAIYR,GAAG,IAAAS,EACYvB,KAAKY,MAAxBL,EADOgB,EACPhB,KAAMG,EADCa,EACDb,SACd,GAAc,UAAVI,EAAEU,IAAiB,CACnB,IAAKjB,EAED,YADAkB,UAAQC,MAAM,yBAEX,IAAKhB,EAER,YADAe,UAAQC,MAAM,yBAGlB1B,KAAK2B,iDAIJ,IAAAC,EACmC5B,KAAKY,MAArCD,EADHiB,EACGjB,YAAaJ,EADhBqB,EACgBrB,KAAMG,EADtBkB,EACsBlB,SAC3B,OACImB,EAAAC,QAAAC,cAAA,OAAKC,UAAU,uCACXH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,QAAAC,cAAA,cACIF,EAAAC,QAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,gCAIvBH,EAAAC,QAAAC,cAAC1C,EAAA4C,OACGC,GAAG,OACHC,OAAQN,EAAAC,QAAAC,cAAA,QAAMC,UAAU,0BAAyBH,EAAAC,QAAAC,cAAC1C,EAAA+C,MAAKC,KAAK,UAC5DC,WAAYtC,KAAKuC,eACjBC,SAAUxC,KAAKyC,sBACfC,YAAY,WACZzB,MAAOV,IAGXsB,EAAAC,QAAAC,cAAC1C,EAAA4C,OACGE,OAAQN,EAAAC,QAAAC,cAAA,QAAMC,UAAU,0BAAyBH,EAAAC,QAAAC,cAAC1C,EAAA+C,MAAKC,KAAK,UAC5DA,KAAK,WACL9B,KAAK,WACL2B,GAAG,WACHM,SAAUxC,KAAK2C,qBACfD,YAAY,WACZJ,WAAYtC,KAAKuC,eACjBtB,MAAOP,IAGXmB,EAAAC,QAAAC,cAAC1C,EAAAuD,UAASV,GAAG,WAAWM,SAAUxC,KAAK6C,gBAAiB3B,QAASP,GAAeX,KAAK8C,KAAK,6BAC1FjB,EAAAC,QAAAC,cAAA,OAAKC,UAAU,gBACXH,EAAAC,QAAAC,cAAC1C,EAAA0D,QAAOV,KAAK,UAAUW,WAAYzC,GAAQG,GAAWuC,QAASjD,KAAK2B,cAAe3B,KAAK8C,KAAK,sCA5G1GvD,UAAYA,6CAclB2D,gIAQAA,0HAOAA,kHASAA,iHAiBAA,mHAKAA","file":"Login.ac5e8791.js","sourcesContent":["'use strict';\n\n/* eslint-disable react/require-optimization */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bind } from 'decko';\nimport { intlInject, loggerInject } from 'jscom/utils/decorators';\nimport { Button, Input, Checkbox, message, Icon } from 'antd';\nimport { gotoRegisterPage } from 'jscom/utils/window';\nimport './Login.scss';\n\nconst propTypes = {\n    onSignIn: PropTypes.func,\n};\n\nexport default @intlInject\n@loggerInject\nclass Login extends Component {\n\n    static propTypes = propTypes;\n\n    constructor (props) {\n        super(props);\n        const name = localStorage.getItem('name') || '';\n        const password = localStorage.getItem('userKey') || '';\n        const hasRemember = !!localStorage.getItem('hasRemember');\n        this.state = {\n            name,\n            password,\n            hasRemember\n        };\n    }\n\n    @bind\n    handleNameInputChange (e) {\n        this.setState({\n            name: e.target.value,\n            password: ''\n        });\n    }\n\n    @bind\n    handlePwdInputChange (e) {\n        this.setState({\n            password: e.target.value\n        });\n    }\n\n    @bind\n    handCheckChange (value) {\n        if (value) {\n            this.setState({\n                hasRemember: value.target.checked\n            })\n        }\n    }\n\n    @bind\n    handleSignIn () {\n        const { name, password, hasRemember } = this.state;\n        if (hasRemember) {\n            localStorage.setItem('name', name)\n            localStorage.setItem('userKey', password)\n            localStorage.setItem('hasRemember', true)\n        } else {\n            localStorage.removeItem('name');\n            localStorage.removeItem('userKey');\n            localStorage.removeItem('hasRemember');\n\n        }\n        this.props.onSignIn(name, password);\n\n    }\n\n    @bind\n    handleRegister () {\n        gotoRegisterPage();\n    }\n\n    @bind\n    handleKeyPress (e) {\n        const { name, password } = this.state;\n        if (e.key === 'Enter') { // Login按钮必须要是可以点击的\n            if (!name) {\n                message.error('Username is required!');\n                return;\n            } else if (!password) {\n                message.error('Password is required!');\n                return;\n            }\n            this.handleSignIn();\n        }\n    }\n\n    render() {\n        const { hasRemember, name, password } = this.state;\n        return (\n            <div className=\"c-form c-form--stacked s-auth__form\">\n                <div className=\"s-content-container\">\n                    <legend>\n                        <div className=\"s-content--logo\">\n                            <div className=\"s-content--logo-container\" />\n                        </div>\n                    </legend>\n                    \n                    <Input\n                        id=\"name\"\n                        prefix={<span className=\"s-content--login__icon\"><Icon type=\"user\" /></span>}\n                        onKeyPress={this.handleKeyPress}\n                        onChange={this.handleNameInputChange}\n                        placeholder=\"Username\"\n                        value={name}\n                    />\n                    \n                    <Input\n                        prefix={<span className=\"s-content--login__icon\"><Icon type=\"lock\" /></span>}\n                        type=\"password\"\n                        name=\"password\"\n                        id=\"password\"\n                        onChange={this.handlePwdInputChange}\n                        placeholder=\"Password\"\n                        onKeyPress={this.handleKeyPress}\n                        value={password}\n                    />\n\n                    <Checkbox id=\"remember\" onChange={this.handCheckChange} checked={hasRemember} >{this.intl('common.string.rememberme')}</Checkbox>\n                    <div className=\"s-auth__btns\">\n                        <Button type=\"primary\" disabled={!(name && password)} onClick={this.handleSignIn}>{this.intl('common.string.login')}</Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}"],"sourceRoot":""}